{"version":3,"sources":["components/Notification.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Notification","message","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","text","Filter","filterName","handleFilterNameChange","value","onChange","PersonForm","newName","newNumber","handleNameChange","handleNumberChange","handleFormSubmit","onSubmit","type","Person","person","handleDeleteClick","name","number","onClick","Persons","persons","deletePerson","map","key","id","baseUrl","console","log","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilterName","notificationMessage","setNotificationMessage","useEffect","personService","initialPersons","length","updatePersonNumber","changedPerson","returnedPerson","p","catch","error","filter","displayNotificationMessage","setTimeout","personsToShow","toLowerCase","includes","event","newFilterName","target","preventDefault","find","window","confirm","concat","deletedPerson","ReactDOM","render","document","getElementById"],"mappings":"sMAwBeA,EAtBM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,GAAgB,OAAZA,EACF,OAAO,KAGT,IAAMC,EAAoB,CACxBC,MAAOF,EAAQE,OAAS,QACxBC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAGhB,OACE,yBAAKC,MAAOR,GACTD,EAAQU,OCRAC,EATA,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,WAAYC,EAA4B,EAA5BA,uBAC5B,OACE,kDAEE,2BAAOC,MAAOF,EAAYG,SAAUF,MCc3BG,EAlBI,SAAC,GAAmF,IAAjFC,EAAgF,EAAhFA,QAASC,EAAuE,EAAvEA,UAAWC,EAA4D,EAA5DA,iBAAkBC,EAA0C,EAA1CA,mBAAoBC,EAAsB,EAAtBA,iBAC9E,OACE,0BAAMC,SAAUD,GACd,qCAEE,2BAAOP,MAAOG,EAASF,SAAUI,KAEnC,uCAEE,2BAAOL,MAAOI,EAAWH,SAAUK,KAErC,6BACE,4BAAQG,KAAK,UAAb,UCHOC,EATA,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,kBACxB,OACE,4BACGD,EAAOE,KADV,IACiBF,EAAOG,OACtB,4BAAQC,QAASH,GAAjB,YCWSI,EAdC,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,QAASC,EAAmB,EAAnBA,aAC1B,OACE,4BACGD,EAAQE,KAAI,SAAAR,GAAM,OACjB,kBAAC,EAAD,CACES,IAAKT,EAAOU,GACZV,OAAQA,EACRC,kBAAmB,kBAAMM,EAAaP,W,gBCR1CW,EAAU,cA0BD,EAxBA,WAGb,OAFAC,QAAQC,IAAI,oBACIC,IAAMC,IAAIJ,GACXK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAqB5B,EAlBA,SAACC,GAGd,OAFAP,QAAQC,IAAI,oBACIC,IAAMM,KAAKT,EAASQ,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAe5B,EAZA,SAACR,EAAIS,GAGlB,OAFAP,QAAQC,IAAR,gCAAqCH,EAArC,QACgBI,IAAMO,IAAN,UAAaV,EAAb,YAAwBD,GAAMS,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAS5B,EANA,SAACR,GAGd,OAFAE,QAAQC,IAAR,gCAAqCH,EAArC,QACgBI,IAAMQ,OAAN,UAAgBX,EAAhB,YAA2BD,KCiH9Ba,EAlIH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTlB,EADS,KACAmB,EADA,OAEcD,mBAAS,IAFvB,mBAEThC,EAFS,KAEAkC,EAFA,OAGkBF,mBAAS,IAH3B,mBAGT/B,EAHS,KAGEkC,EAHF,OAIoBH,mBAAS,IAJ7B,mBAITrC,EAJS,KAIGyC,EAJH,OAKsCJ,mBAAS,MAL/C,mBAKTK,EALS,KAKYC,EALZ,KAOhBC,qBAAU,WACRC,IAEGhB,MAAK,SAAAiB,GACJR,EAAWQ,QAEd,IAEHrB,QAAQC,IAAI,mBAAoBP,EAAQ4B,QAExC,IAyCMC,EAAqB,SAACnC,GAC1B,IAAMoC,EAAa,eAAQpC,EAAR,CAAgBG,OAAQV,IAC3CuC,EACUI,EAAc1B,GAAI0B,GACzBpB,MAAK,SAAAqB,GACJZ,EAAWnB,EAAQE,KAAI,SAAA8B,GAAC,OACtBA,EAAE5B,KAAO2B,EAAe3B,GAAK2B,EAAiBC,MAEhDZ,EAAW,IACXC,EAAa,IACbG,EAAuB,WAAD,OAAY9B,EAAOE,UAE1CqC,OAAM,SAAAC,GACLf,EAAWnB,EAAQmC,QAAO,SAAAH,GAAC,OACzBA,EAAE5B,KAAO0B,EAAc1B,OAEzBgC,EAA2B,kBAAD,OAAmBN,EAAclC,KAAjC,yCAA8E,WAiBxGwC,EAA6B,SAACzD,EAAMR,GACxCqD,EAAuB,CAAC7C,OAAMR,UAC9BkE,YAAW,WACTb,EAAuB,QACtB,MAICc,EAAgBtC,EAAQmC,QAAO,SAAAzC,GAAM,OACzCA,EAAOE,KAAK2C,cAAcC,SAAS3D,EAAW0D,kBAGhD,OACE,6BACE,yCACA,kBAAC,EAAD,CAActE,QAASsD,IACvB,kBAAC,EAAD,CACE1C,WAAYA,EACZC,uBA5FyB,SAAC2D,GAC9B,IAAMC,EAAgBD,EAAME,OAAO5D,MACnCuC,EAAcoB,MA6FZ,yCACA,kBAAC,EAAD,CACExD,QAASA,EACTC,UAAWA,EACXC,iBA9FmB,SAACqD,GACxBrB,EAAWqB,EAAME,OAAO5D,QA8FpBM,mBA3FqB,SAACoD,GAC1BpB,EAAaoB,EAAME,OAAO5D,QA2FtBO,iBAxFY,SAACmD,GACjBA,EAAMG,iBAEN,IAAMlD,EAASM,EAAQ6C,MAAK,SAAAnD,GAAM,OAAIA,EAAOE,OAASV,KAClDQ,EACEoD,OAAOC,QAAP,WAAmB7D,EAAnB,yEACF2C,EAAmBnC,GAQrBgC,EALkB,CAChB9B,KAAMV,EACNW,OAAQV,IAKPuB,MAAK,SAAAqB,GACJZ,EAAWnB,EAAQgD,OAAOjB,IAC1BX,EAAW,IACXC,EAAa,IACbe,EAA2B,SAAD,OAAUL,EAAenC,UAEpDqC,OAAM,SAAAC,GACLE,EAA2BF,EAAMvB,SAASC,KAAKsB,MAAO,aAoE1D,uCACA,kBAAC,EAAD,CACElC,QAASsC,EACTrC,aA9Ce,SAACgD,GAChBH,OAAOC,QAAP,iBAAyBE,EAAcrD,KAAvC,OACF8B,EACUuB,EAAc7C,IACrBM,MAAK,SAAAC,GACJQ,EAAWnB,EAAQmC,QAAO,SAAAzC,GAAM,OAC9BA,EAAOU,KAAO6C,EAAc7C,OAE9BgC,EAA2B,WAAD,OAAYa,EAAcrD,eCzF9DsD,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.20c133ff.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  const notificationStyle = {\n    color: message.color || 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {message.text}\n    </div>\n  );\n}\n\nexport default Notification;","import React from \"react\";\n\nconst Filter = ({ filterName, handleFilterNameChange}) => {\n  return (\n    <div>\n      filter shown with:\n      <input value={filterName} onChange={handleFilterNameChange}/>\n    </div>\n  )\n}\n\nexport default Filter;","import React from \"react\";\n\nconst PersonForm = ({ newName, newNumber, handleNameChange, handleNumberChange, handleFormSubmit}) => {\n  return (\n    <form onSubmit={handleFormSubmit}>\n      <div>\n        name:\n        <input value={newName} onChange={handleNameChange}/>\n      </div>\n      <div>\n        number:\n        <input value={newNumber} onChange={handleNumberChange}/>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm;","import React from \"react\";\n\nconst Person = ({ person, handleDeleteClick }) => {\n  return (\n    <li>\n      {person.name} {person.number}\n      <button onClick={handleDeleteClick}>delete</button>\n    </li>\n  )\n}\n\nexport default Person;","import React from \"react\";\nimport Person from './Person';\n\nconst Persons = ({ persons, deletePerson }) => {\n  return (\n    <ul>\n      {persons.map(person => \n        <Person \n          key={person.id}\n          person={person}\n          handleDeleteClick={() => deletePerson(person)}  \n        />\n      )}\n    </ul>\n  );\n}\n\nexport default Persons;","import axios from 'axios';\n\nconst baseUrl = 'api/persons';\n\nconst getAll = () => {\n  console.log('fetching data...');\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n}\n\nconst create = (newObject) => {\n  console.log('creating data...');\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);  \n}\n\nconst update = (id, newObject) => {\n  console.log(`updating data with id ${id}...`);\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data);\n}\n\nconst remove = (id) => {\n  console.log(`deleting data with id ${id}...`);\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request;\n}\n\nexport default { getAll, create, update, remove };","import React, { useState, useEffect } from 'react';\nimport Notification from './components/Notification';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport personService from './services/persons';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filterName, setFilterName] = useState('');\n  const [notificationMessage, setNotificationMessage] = useState(null);\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons);\n      });\n  }, []);\n\n  console.log('persons length: ', persons.length);\n\n  const handleFilterNameChange = (event) => {\n    const newFilterName = event.target.value;\n    setFilterName(newFilterName);\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const person = persons.find(person => person.name === newName);\n    if (person) {\n      if (window.confirm(`'${newName}' is already added to phonebook, replace old number with a new one?`)) {\n        updatePersonNumber(person);\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService\n        .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson));\n          setNewName('');\n          setNewNumber('');\n          displayNotificationMessage(`Added ${returnedPerson.name}`);\n        })\n        .catch(error => {\n          displayNotificationMessage(error.response.data.error, 'red');\n        });\n    }\n  }\n\n  const updatePersonNumber = (person) => {\n    const changedPerson = { ...person, number: newNumber};\n    personService\n      .update(changedPerson.id, changedPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(p => \n          p.id === returnedPerson.id ? returnedPerson : p              \n        ));\n        setNewName('');\n        setNewNumber('');\n        setNotificationMessage(`Updated ${person.name}`);\n      })\n      .catch(error => {\n        setPersons(persons.filter(p => \n          p.id !== changedPerson.id\n        ));\n        displayNotificationMessage(`Information of ${changedPerson.name} has already been removed from server`, 'red');\n      });\n  }\n\n  const deletePerson = (deletedPerson) => {\n    if (window.confirm(`Delete ${deletedPerson.name}?`)) {\n      personService\n        .remove(deletedPerson.id)\n        .then(response => {\n          setPersons(persons.filter(person => \n            person.id !== deletedPerson.id\n          ));\n          displayNotificationMessage(`Deleted ${deletedPerson.name}`)\n      });\n    }    \n  }\n\n  const displayNotificationMessage = (text, color) => {\n    setNotificationMessage({text, color});\n    setTimeout(() => {\n      setNotificationMessage(null);\n    }, 5000);\n  }\n\n  // on every render, filter persons list based on filter text\n  const personsToShow = persons.filter(person => \n    person.name.toLowerCase().includes(filterName.toLowerCase())\n  );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>   \n      <Notification message={notificationMessage}/> \n      <Filter \n        filterName={filterName} \n        handleFilterNameChange={handleFilterNameChange}\n      />\n\n      <h2>Add a new</h2>      \n      <PersonForm \n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        handleFormSubmit={addPerson}\n      />\n\n      <h2>Numbers</h2>\n      <Persons \n        persons={personsToShow}\n        deletePerson={deletePerson}\n      />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(  \n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}